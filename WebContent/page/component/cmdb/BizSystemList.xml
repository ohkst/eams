<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_screenName="업무 시스템 목록">
        <w2:type>COMPONENT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap id="common">
        			<w2:keyInfo>
        				<w2:key id="guid" name="guid" dataType="text"></w2:key>
        				<w2:key id="code" name="code" dataType="text"></w2:key>
        				<w2:key id="message" name="message" dataType="text"></w2:key>
        				<w2:key id="detailMessage" name="detailMessage" dataType="text"></w2:key>
        			</w2:keyInfo>
        			<w2:data xmlns="">
        				<guid><![CDATA[c342cbf886334f33b4f3f16fd78c50e5]]></guid>
        				<code><![CDATA[N000]]></code>
        				<message><![CDATA[정상처리]]></message>
        				<detailMessage><![CDATA[]]></detailMessage>
        			</w2:data>
        		</w2:dataMap>
        		<w2:dataMap id="pageInfo">
        			<w2:keyInfo>
        				<w2:key id="offset" name="offset" dataType="text"></w2:key>
        				<w2:key id="limit" name="limit" dataType="text"></w2:key>
        				<w2:key id="type" name="type" dataType="text"></w2:key>
        				<w2:key id="sortMethod" name="sortMethod" dataType="text"></w2:key>
        				<w2:key id="total" name="total" dataType="text"></w2:key>
        			</w2:keyInfo>
        			<w2:data xmlns="">
        				<offset><![CDATA[0]]></offset>
        				<limit><![CDATA[10]]></limit>
        				<type><![CDATA[PAGE]]></type>
        				<sortMethod><![CDATA[NO]]></sortMethod>
        				<total><![CDATA[10]]></total>
        			</w2:data>
        		</w2:dataMap>
        		<w2:dataList id="syss">
        			<w2:columnInfo>
        				<w2:column id="sysId" name="시스템ID" dataType="text"></w2:column>
        				<w2:column id="sysCd" name="시스템코드" dataType="text"></w2:column>
        				<w2:column id="sysName" name="시스템명" dataType="text"></w2:column>
        				<w2:column id="sysDscr" name="시스템설명" dataType="text"></w2:column>
        				<w2:column id="svcOpngDt" name="서비스개시일" dataType="text"></w2:column>
        				<w2:column id="svcEndDt" name="서비스종료일" dataType="text"></w2:column>
        				<w2:column id="itChrr" name="IT담당자" dataType="text"></w2:column>
        				<w2:column id="itChrrNo" name="IT담당자사번" dataType="text"></w2:column>
        				<w2:column id="itChrrName" name="IT담당자명" dataType="text"></w2:column>
        				<w2:column id="sysCpstDgrmYn" name="시스템구성도여부" dataType="text"></w2:column>
        				<w2:column id="devlMnulYn" name="개발매뉴얼여부" dataType="text"></w2:column>
        				<w2:column id="mgmtMnulYn" name="운영매뉴얼여부" dataType="text"></w2:column>
        				<w2:column id="archtYn" name="아키텍처여부" dataType="text"></w2:column>
        				<w2:column id="rfpYn" name="RFP여부" dataType="text"></w2:column>
        				<w2:column id="reqtDefYn" name="요구사항정의서여부" dataType="text"></w2:column>
        				<w2:column id="mpiwRptsYn" name="착수보고서여부" dataType="text"></w2:column>
        				<w2:column id="chngDlbrRptsYn" name="변경심의보고서여부" dataType="text"></w2:column>
        				<w2:column id="cpltRptsYn" name="완료보고서여부" dataType="text"></w2:column>
        			</w2:columnInfo>
        			<w2:data xmlns="">
        				<w2:row>
        					<sysId><![CDATA[1]]></sysId>
        					<sysCd><![CDATA[AOM000000000000000]]></sysCd>
        					<sysName><![CDATA[계정계]]></sysName>
        					<sysDscr><![CDATA[계정계시스템]]></sysDscr>
        					<svcOpngDt><![CDATA[20210101]]></svcOpngDt>
        					<svcEndDt><![CDATA[99991231]]></svcEndDt>
        					<itChrr><![CDATA[1]]></itChrr>
        					<itChrrNo><![CDATA[000001]]></itChrrNo>
        					<itChrrName><![CDATA[홍길동]]></itChrrName>
        					<sysCpstDgrmYn><![CDATA[Y]]></sysCpstDgrmYn>
        					<devlMnulYn><![CDATA[Y]]></devlMnulYn>
        					<mgmtMnulYn><![CDATA[N]]></mgmtMnulYn>
        					<archtYn><![CDATA[N]]></archtYn>
        					<rfpYn><![CDATA[N]]></rfpYn>
        					<reqtDefYn><![CDATA[Y]]></reqtDefYn>
        					<mpiwRptsYn><![CDATA[N]]></mpiwRptsYn>
        					<chngDlbrRptsYn><![CDATA[Y]]></chngDlbrRptsYn>
        					<cpltRptsYn><![CDATA[N]]></cpltRptsYn>
        				</w2:row>
        			</w2:data>
        		</w2:dataList>
        	</w2:dataCollection>
        	<w2:workflowCollection />
        	<xf:submission id="sbmSystemList" action="aa/query/api/v1/system-list" method="get" mediatype="application/json" ref=""
        		target='data:json,["common","pageInfo","syss"]' encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="scwin.sbmSystemList_submit" ev:submitdone="scwin.sbmSystemList_submitdone"
        		ev:submiterror="scwin.sbmSystemList_submiterror" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <w2:layoutInfo/>
        <w2:publicInfo method=""/>
        <script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function() {
   $c.sbm.execute(sbmSystemList);
};

scwin.btnSearch_onclick = function (e) {
    syss.clearFilter();

    let jsonFilterOptions = {};

    jsonFilterOptions.type = "row";
    jsonFilterOptions.colIndex = "sysName";
    jsonFilterOptions.key = tfBizName.getValue();
    jsonFilterOptions.exactMatch = false;
    jsonFilterOptions.condition = "and";

    syss.setColumnFilter(jsonFilterOptions);

    let jsonFilterOptions2 = {};

    jsonFilterOptions2.type = "row";
    jsonFilterOptions2.colIndex = "itChrrName";
    jsonFilterOptions2.key = tfOwnerName.getValue();
    jsonFilterOptions2.exactMatch = false;
    jsonFilterOptions2.condition = "and";

    syss.setColumnFilter(jsonFilterOptions2);
};

scwin.btnReset_onclick = function (e) {
    tfBizName.setValue("");
    tfOwnerName.setValue("");
    syss.clearFilter();
};

scwin.imgBtnCSV_onclick = function (e) {
    var jsnOptions;
    var today = $c.date.getServerDateTime("yyyyMMddHHmmss");
    jsnOptions = {
        fileName: "TestCSV" + today + ".csv"
    };

    grdSystemList.saveCSV(jsnOptions);
};



scwin.sbmSystemList_submit = function (e) {

};

scwin.sbmSystemList_submitdone = function (e) {

};

scwin.sbmSystemList_submiterror = function (e) {

};

scwin.grdSystemList_oncellclick = function (rowIndex, columnIndex, columnId) {
    var rowJSON = {
        "id": syss.getCellData(rowIndex, "sysId")
    };

    var dataObject = {
        "type": "json",
        "name": "PopupData",
        "data": rowJSON
    };

    var options = {
        id: "popuptest",
        type: "wframePopup",

        popupName: "업무 시스템 세부 리스트",
        modal: true,
        useIFrame: false,

        resizable: true,
        status: true,
        menubar: false,
        scrollbars: false,
        title: false,
        dataObject: dataObject,
        closeAction: "scwin.closeAction"
    };

    $c.util.openEamsPopup("/page/component/cmdb/PopupDetailSystemList.xml", options);
};

scwin.closeAction = function (id, info) {

    if (!info.isCloseButtonClick) {
        return true;
    }

    return true
};
]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" style="">
    	<xf:group style="width:100%;height:100%;padding: 24px;box-sizing: border-box;display: flex;flex-direction: column;gap: 16px;"
    		id="">
    		<w2:textbox id="" label="업무 시스템" style="width: 150px;height: 43px;font-size:22px;font-weight:bold;"></w2:textbox>
    		<xf:group style="width: 100%;display: flex;justify-content: flex-end;gap: 14px;" id="">
    			<w2:button
    				style="top:103px;left:260px;width:100px;height:28px;position:static;background-color:#3772E0;color:#FFFFFF;font-size:14px;font-weight:bold;border-width:0px;border-radius: 6px;"
    				id="btnSearch" label="조회" ev:onclick="scwin.btnSearch_onclick">
    			</w2:button>
    			<w2:button
    				style="top:103px;left:260px;width:100px;height:28px;position:static;background-color:#3772E0;color:#FFFFFF;font-size:14px;font-weight:bold;border-width:0px;border-radius: 6px;"
    				id="btnReset" label="초기화" ev:onclick="scwin.btnReset_onclick">
    			</w2:button>
    			<xf:image src="/img/downloadCSV.svg"
    				style="top:103px;left:260px;width:24px;height:24px;position:static;border-width:0px;border-radius: 6px;" id="imgBtnCSV" ev:onclick="scwin.imgBtnCSV_onclick">
    			</xf:image>
    		</xf:group>
    		<xf:group id="" style="width: 100%;display: flex;">
    			<xf:group id="" style="display: flex;">
    				<w2:textbox style="position:static; top:65px; left:277px; width:150px; height:23px; " id="" label="시스템"></w2:textbox>
    				<xf:input style="width: 144px;height: 21px;" id="tfBizName"></xf:input>
    			</xf:group>
    			<xf:group id="" style="display: flex;margin-left: auto;" ev:onclick="scwin.btnSearch_onclick">
    				<w2:textbox id="" label="IT담당자명" style="position:static; top:65px; left:277px; width:150px; height:23px; "></w2:textbox>
    				<xf:input id="tfOwnerName" style="width: 144px;height: 21px;"></xf:input>
    			</xf:group>
    		</xf:group>
    		<w2:gridView checkAllType="false" defaultCellHeight="20" id="grdSystemList" style="width: 100%;height: 150px;flex: 1;"
    			dataList="data:syss" autoFit="allColumn" useFilterSearch="false" useFilterList="true" sortable="true" ev:oncellclick="scwin.grdSystemList_oncellclick">
    			<w2:caption style="" id="caption1" value="this is a grid caption."></w2:caption>
    			<w2:header style="" id="header1">
    				<w2:row style="" id="row1">
    					<w2:column width="70" inputType="text" style="" id="column18" value="시스템ID" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column17" value="시스템코드" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column16" value="시스템명" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column15" value="시스템설명" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column14" value="서비스개시일" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column13" value="서비스종료일" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column12" value="IT담당자" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column11" value="IT담당자사번" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column10" value="IT담당자명" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column9" value="시스템구성도여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column8" value="개발매뉴얼여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column7" value="운영매뉴얼여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column6" value="아키텍처여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column5" value="RFP여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column4" value="요구사항정의서여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column3" value="착수보고서여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column2" value="변경심의보고서여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="column1" value="완료보고서여부" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody style="" id="gBody1">
    				<w2:row style="" id="row2">
    					<w2:column width="70" inputType="text" style="" id="sysId" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="sysCd" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="sysName" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="sysDscr" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="svcOpngDt" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="svcEndDt" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="itChrr" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="itChrrNo" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="itChrrName" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="sysCpstDgrmYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="devlMnulYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="mgmtMnulYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="archtYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="rfpYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="reqtDefYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="mpiwRptsYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="chngDlbrRptsYn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="" id="cpltRptsYn" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    	</xf:group>
    </body>
</html>
